var airPlane=function(){function x(a){if(!o||!isTopSet||!isRightSet||!isBottomSet||!isLeftSet){if(localStorage.getItem("leapCoords")===null){L(a)}else{var f=JSON.parse(localStorage.getItem("leapCoords"));e=f.z;t=f.topCoords;n=f.rightCoords;r=f.bottomCoords;i=f.leftCoords;o=isTopSet=isRightSet=isBottomSet=isLeftSet=true;C()}}else if(o&&isTopSet&&isRightSet&&isBottomSet&&isLeftSet&&localStorage.getItem("leapCoords")===null){var l={z:e,topCoords:t,rightCoords:n,bottomCoords:r,leftCoords:i};localStorage.setItem("leapCoords",JSON.stringify(l))}else{var c=n-i;if(a.fingers!==null&&a.fingers!==undefined&&a.fingers.length>0){var h=0,x=0,T=0;while(h<a.fingers.length){if(h<a.fingers.length){if(a.fingers[h].tipPosition[2]<T&&a.fingers[h].direction.z<0){if(a.fingers[h].tipPosition[2]>e){x=h;T=a.fingers[h].tipPosition[2]}}}h+=1}var k=0;while(k<a.fingers.length){if(a.fingers[k].tipPosition[2]<e+s*S){var A=a.fingers[k].tipPosition[0],O=a.fingers[k].tipPosition[1];var M=(A+=0-i)/(n-i)*100;var _=(O+=0-r)/(t-r)*100;var D=Math.floor(0+window.innerWidth/100*M);var P=Math.floor(window.innerHeight-window.innerHeight/100*_);var H=a.fingers[k].tipPosition[2];if(H-y>b&&!w&&D-m>b||H-y>b&&!w&&P-g>b){D=m;P=g;H=y;w=false}else{m=D;g=P;y=H}if(d[k]===undefined){N()}if(v){d[k].style.opacity=1;d[k].style.left=D+50+"px";d[k].style.top=P+"px"}else{d[k].style.opacity=0}if(k===x&&a.fingers[k].tipPosition[2]<e+s){var B=document.elementFromPoint(D,P);d[k].style.opacity=1;if(B!==null&&!u){B.dispatchEvent(p);(function(){u=true;setTimeout(function(){u=false},E)})()}}}else{if(d[k]!==undefined){d[k].style.left="-100px";d[k].style.top="-100px"}}k+=1}var j=k;while(j<d.length){d[j].style.top="-100px";d[j].style.left="-100px";j+=1}}else if(a.hands.length<1){w=true;if(d.length>0){d[0].style.top="-100px";d[0].style.left="-100px"}}}}function T(e){if(e!==null&&e!==undefined&&typeof e==="number"&&e>-1){E=e}else{console.error("Invalid input")}}function N(){var e=document.createElement("div");e.setAttribute("class","cursor");document.body.appendChild(e);d.push(e)}function C(){c=document.createElement("div");c.setAttribute("id","calEl");h=document.createElement("div");h.setAttribute("id","progress");c.appendChild(h);document.body.appendChild(c);c.style.top=window.innerHeight/2-c.offsetWidth/2+"px";c.style.left=window.innerWidth/2-c.offsetHeight/2+"px";c.style.display="none"}function k(e){console.log("Point set. Remove Finger.");h.style.height="0px";c.style.display="none";console.log(e);if(e.top!==undefined){console.log("Well, We got here");c.style.top=e.top+"px"}if(e.left!==undefined){c.style.left=e.left+"px"}if(e.display!==undefined){c.style.display="none"}u=true;setTimeout(function(){u=false;c.style.display="block"},a)}function L(s){if(u){return}var a=s.fingers;if(s.fingers.length>1){return false}if(c===undefined){C();c.style.display="block"}if(a!==null&&a!==undefined&&a.length>0){var l=0;while(l<1){if(!o){_.addPoint({which:"zMeasure",value:a[l].tipPosition[2]});if(_.checkPointProgress({which:"zMeasure"})>f){o=true;e=_.getPoint({which:"zMeasure"});k({top:0})}else{var p=_.checkPointProgress({which:"zMeasure"})/f*100;h.style.height=c.offsetHeight/100*p+"px"}}else if(!isTopSet){_.addPoint({which:"topMeasure",value:a[l].tipPosition[1]});if(_.checkPointProgress({which:"topMeasure"})>f){isTopSet=true;t=_.getPoint({which:"topMeasure"});k({top:window.innerHeight/2-c.offsetWidth/2,left:window.innerWidth-c.offsetWidth/1})}else{var p=_.checkPointProgress({which:"topMeasure"})/f*100;h.style.height=c.offsetHeight/100*p+"px"}}else if(!isRightSet){_.addPoint({which:"rightMeasure",value:a[l].tipPosition[0]});if(_.checkPointProgress({which:"rightMeasure"})>f){isRightSet=true;n=_.getPoint({which:"rightMeasure"});k({top:window.innerHeight-c.offsetHeight,left:window.innerWidth/2-c.offsetWidth/2})}else{var p=_.checkPointProgress({which:"rightMeasure"})/f*100;h.style.height=c.offsetHeight/100*p+"px"}}else if(!isBottomSet){_.addPoint({which:"bottomMeasure",value:a[l].tipPosition[1]});if(_.checkPointProgress({which:"bottomMeasure"})>f){isBottomSet=true;r=_.getPoint({which:"bottomMeasure"});k({top:window.innerHeight/2-c.offsetWidth/2,left:0})}else{var p=_.checkPointProgress({which:"bottomMeasure"})/f*100;h.style.height=c.offsetHeight/100*p+"px"}}else if(!isLeftSet){_.addPoint({which:"leftMeasure",value:a[l].tipPosition[0]});if(_.checkPointProgress({which:"leftMeasure"})>f){isLeftSet=true;i=_.getPoint({which:"leftMeasure"});k({top:window.innerHeight/2-c.offsetWidth/2,left:window.innerWidth/2-c.offsetWidth/2,display:"none"})}else{var p=_.checkPointProgress({which:"leftMeasure"})/f*100;h.style.height=c.offsetHeight/100*p+"px"}}l+=1}}}function A(){localStorage.clear();_.empty();e=t=n=r=i=undefined;o=isTopSet=isRightSet=isBottomSet=isLeftSet=false;c.style.display="block";c.style.left=window.innerWidth/2-c.offsetWidth/2}function O(){return{zDepth:e,top:t,right:n,bottom:r,left:i}}function M(e){if(e!==false&&e!==true){console.error("Not a boolean value, Must be true or false");return}else{v=e}}var e,t,n,r,i,s=20;var o=isTopSet=isRightSet=isBottomSet=isLeftSet=false;var u=false,a=2e3;var f=200,l=20;var c,h;var p=new Event("click");var d=[],v=true,m=0,g=0,y=0,b=10,w=true,E=500,S=2;var _=function(){function t(t){if(t!==undefined&&t!==null){if(e[t.which]!==undefined&&t.value!==undefined&&typeof t.value==="number"){e[t.which].push(t.value)}}}function n(t){var n=0;for(var r=0+Math.floor(f/100*l);r<e[t.which].length;r+=1){n+=e[t.which][r]}return n/(e[t.which].length-Math.floor(f/100*l))}function r(t){return e[t.which].length}function i(){for(var t in e){e[t]=[]}}var e={zMeasure:[],topMeasure:[],rightMeasure:[],bottomMeasure:[],leftMeasure:[]};return{addPoint:t,getPoint:n,checkPointProgress:r,empty:i}}();return{checkCoords:x,calibrate:L,measure:_,reset:A,currentCoords:O,showPointers:M,setDelay:T,createPointer:N}}()