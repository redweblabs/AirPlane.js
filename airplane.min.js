var airPlane=function(){function x(a){if(!o||!isTopSet||!isRightSet||!isBottomSet||!isLeftSet){if(localStorage.getItem("leapCoords")===null){k(a)}else{var f=JSON.parse(localStorage.getItem("leapCoords"));e=f.z;t=f.topCoords;n=f.rightCoords;r=f.bottomCoords;i=f.leftCoords;o=isTopSet=isRightSet=isBottomSet=isLeftSet=true;C()}}else if(o&&isTopSet&&isRightSet&&isBottomSet&&isLeftSet&&localStorage.getItem("leapCoords")===null){console.log(2);var l={z:e,topCoords:t,rightCoords:n,bottomCoords:r,leftCoords:i};localStorage.setItem("leapCoords",JSON.stringify(l))}else{var c=n-i;if(a.fingers!==null&&a.fingers!==undefined&&a.fingers.length>0){var h=0,x=0,T=0;while(h<a.fingers.length){if(h<a.fingers.length){if(a.fingers[h].tipPosition[2]<T&&a.fingers[h].direction.z<0){if(a.fingers[h].tipPosition[2]>e){x=h;T=a.fingers[h].tipPosition[2]}}}h+=1}var L=0;while(L<a.fingers.length){if(a.fingers[L].tipPosition[2]<e+s*S){var A=a.fingers[L].tipPosition[0],O=a.fingers[L].tipPosition[1];var M=(A+=0-i)/(n-i)*100;var _=(O+=0-r)/(t-r)*100;var D=Math.floor(0+window.innerWidth/100*M);var P=Math.floor(window.innerHeight-window.innerHeight/100*_);var H=a.fingers[L].tipPosition[2];if(H-y>b&&!w&&D-m>b||H-y>b&&!w&&P-g>b){D=m;P=g;H=y;w=false}else{m=D;g=P;y=H}if(d[L]===undefined){N()}if(v){d[L].style.opacity=1;d[L].style.left=D+50+"px";d[L].style.top=P+"px"}else{d[L].style.opacity=0}if(L===x&&a.fingers[L].tipPosition[2]<e+s){var B=document.elementFromPoint(D,P);d[L].style.opacity=1;if(B!==null&&!u){B.dispatchEvent(p);(function(){u=true;setTimeout(function(){u=false},E)})()}}}else{if(d[L]!==undefined){d[L].style.left="-100px";d[L].style.top="-100px"}}L+=1}var j=L;while(j<d.length){d[j].style.top="-100px";d[j].style.left="-100px";j+=1}}else if(a.hands.length<1){w=true;if(d.length>0){d[0].style.top="-100px";d[0].style.left="-100px"}}}}function T(e){if(e!==null&&e!==undefined&&typeof e==="number"&&e>-1){E=e}else{console.error("Invalid input")}}function N(){var e=document.createElement("div");e.setAttribute("class","cursor");document.body.appendChild(e);d.push(e)}function C(){c=document.createElement("div");c.setAttribute("id","calEl");h=document.createElement("div");h.setAttribute("id","progress");c.appendChild(h);document.body.appendChild(c);c.style.top=window.innerHeight/2-c.offsetWidth/2+"px";c.style.left=window.innerWidth/2-c.offsetHeight/2+"px";c.style.display="none"}function k(s){var l=s.fingers;if(s.fingers.length>1){return false}if(c===undefined){C();c.style.display="block"}if(l!==null&&l!==undefined&&l.length>0){var p=0;while(p<1){if(!o){console.log(l[p].tipPosition[2]);M.setZ(l[p].tipPosition[2]);if(M.setZ()>f){o=true;console.log("Hit Z 	threshold");console.log("measure.setZ: %f;",M.getZ());e=M.getZ();(function(){console.log("Point set. Remove Finger.");h.style.height="0px";c.style.display="none";u=true;setTimeout(function(){u=false;c.style.display="block";c.style.top="0px"},a)})()}else{var d=M.setZ()/f*100;h.style.height=c.offsetHeight/100*d+"px"}}else if(!isTopSet&&!u){M.setTop(l[p].tipPosition[1]);if(M.setTop()>f){isTopSet=true;console.log("measure.getTop: %f;",M.getTop());t=M.getTop();(function(){console.log("Point set. Remove Finger.");h.style.height="0px";c.style.display="none";u=true;setTimeout(function(){u=false;c.style.display="block";c.style.top=window.innerHeight/2-c.offsetWidth/2+"px";c.style.left=window.innerWidth-c.offsetWidth/1+"px";},a)})()}else{var d=M.setTop()/f*100;h.style.height=c.offsetHeight/100*d+"px"}}else if(!isRightSet&&!u){M.setRight(l[p].tipPosition[0]);if(M.setRight()>f){isRightSet=true;console.log("measure.getRight: %f;",M.getRight());n=M.getRight();(function(){console.log("Point set. Remove Finger.");h.style.height="0px";c.style.display="none";u=true;setTimeout(function(){u=false;c.style.display="block";c.style.top=window.innerHeight-c.offsetHeight+"px";c.style.left=window.innerWidth/2-c.offsetWidth/2+"px"},a)})()}else{var d=M.setRight()/f*100;h.style.height=c.offsetHeight/100*d+"px"}}else if(!isBottomSet&&!u){M.setBottom(l[p].tipPosition[1]);if(M.setBottom()>f){isBottomSet=true;console.log("measure.getBottom: %f;",M.getBottom());r=M.getBottom();(function(){console.log("Point set. Remove Finger.");h.style.height="0px";c.style.display="none";u=true;setTimeout(function(){u=false;c.style.top=window.innerHeight/2-c.offsetWidth/2+"px";c.style.left=0+"px";c.style.display="block"},a)})()}else{var d=M.setBottom()/f*100;h.style.height=c.offsetHeight/100*d+"px"}}else if(!isLeftSet&&!u){M.setLeft(l[p].tipPosition[0]);if(M.setLeft()>f){isLeftSet=true;console.log("measure.getLeft: %f;",M.getLeft());i=M.getLeft();(function(){console.log("Point set. Remove Finger.");h.style.height="0px";c.style.display="none";u=true;setTimeout(function(){u=false;c.style.top=window.innerHeight/2-c.offsetWidth/2+"px";c.style.left=window.innerWidth/2-c.offsetWidth/2+"px"},a)})()}else{var d=M.setLeft()/f*100;h.style.height=c.offsetHeight/100*d+"px"}}p+=1}}}function L(){console.log("Reset");localStorage.clear();M.empty();e=t=n=r=i=undefined;o=isTopSet=isRightSet=isBottomSet=isLeftSet=false;c.style.display="block";c.style.left=window.innerWidth/2-c.offsetWidth/2}function A(){return{zDepth:e,top:t,right:n,bottom:r,left:i}}function O(e){if(e!==false&&e!==true){console.error("Not a boolean value, Must be true or false");return}else{v=e}}var e,t,n,r,i,s=20;var o=isTopSet=isRightSet=isBottomSet=isLeftSet=false;var u=false,a=2e3;var f=200,l=20;var c,h;var p=new Event("click");var d=[],v=true,m=0,g=0,y=0,b=10,w=true,E=500,S=2;var M=function(){function s(t){if(t!==undefined&t!==null){e.push(t)}return e.length}function o(){var t=0;for(var n=0+Math.floor(f/100*l);n<e.length;n+=1){t+=e[n]}return t/(e.length-Math.floor(f/100*l))}function u(e){console.log(e);if(e!==undefined&e!==null){t.push(e)}return t.length}function a(){var e=0;for(var n=0+Math.floor(f/100*l);n<t.length;n+=1){e+=t[n]}return e/(t.length-Math.floor(f/100*l))}function c(e){console.log(e);if(e!==undefined&e!==null){n.push(e)}return n.length}function h(){var e=0;for(var t=0+Math.floor(f/100*l);t<n.length;t+=1){e+=n[t]}return e/(n.length-Math.floor(f/100*l))}function p(e){if(e!==undefined&e!==null){r.push(e)}return r.length}function d(){var e=0;for(var t=0+Math.floor(f/100*l);t<r.length;t+=1){e+=r[t]}return e/(r.length-Math.floor(f/100*l))}function v(e){if(e!==undefined&e!==null){i.push(e)}return i.length}function m(){var e=0;for(var t=0+Math.floor(f/100*l);t<i.length;t+=1){e+=i[t]}return e/(i.length-Math.floor(f/100*l))}function g(){e=[];t=[];n=[];r=[];i=[]}var e=[],t=[],n=[],r=[],i=[];return{setZ:s,getZ:o,setTop:u,getTop:a,setRight:c,getRight:h,setBottom:p,getBottom:d,setLeft:v,getLeft:m,empty:g}}();return{checkCoords:x,calibrate:k,measure:M,reset:L,currentCoords:A,showPointers:O,setDelay:T,createPointer:N}}()