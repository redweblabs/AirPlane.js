var airPlane=function(){function g(a){if(!o||!isTopSet||!isRightSet||!isBottomSet||!isLeftSet){if(localStorage.getItem("leapCoords")===null){w.calibrate(a)}else{var h=JSON.parse(localStorage.getItem("leapCoords"));e=h.z;t=h.topCoords;n=h.rightCoords;r=h.bottomCoords;i=h.leftCoords;o=isTopSet=isRightSet=isBottomSet=isLeftSet=true;w.createElement()}}else if(o&&isTopSet&&isRightSet&&isBottomSet&&isLeftSet&&localStorage.getItem("leapCoords")===null){var p={z:e,topCoords:t,rightCoords:n,bottomCoords:r,leftCoords:i};localStorage.setItem("leapCoords",JSON.stringify(p))}else{var d=n-i;if(a.fingers!==null&&a.fingers!==undefined&&a.fingers.length>0){var g=0,y=0,E=0;while(g<a.fingers.length){if(g<a.fingers.length){if(a.fingers[g].tipPosition[2]<E&&a.fingers[g].direction.z<0){if(a.fingers[g].tipPosition[2]>e){y=g;E=a.fingers[g].tipPosition[2]}}}g+=1}var S=0;while(S<a.fingers.length){if(a.fingers[S].tipPosition[2]<e+s*l){var x=a.fingers[S].tipPosition[0],T=a.fingers[S].tipPosition[1];var N=(x+=0-i)/(n-i)*100;var C=(T+=0-r)/(t-r)*100;var k=Math.floor(0+window.innerWidth/100*N);var L=Math.floor(window.innerHeight-window.innerHeight/100*C);var A=a.fingers[S].tipPosition[2];if(A-b.lastCoords.z>b.threshold.get()&&!f&&k-b.threshold.lastCoords.x>c.get()||A-b.lastCoords.z>b.threshold.get()&&!f&&L-b.lastCoords.y>moveThreshold){k=b.lastCoords.x;L=b.lastCoords.y;A=b.lastCoords.z;f=false}else{lastX=k;lastY=L;lastZ=A}if(b.get()[S]===undefined){b.createPointer()}if(b.display()){b.get()[S].style.opacity=1;b.get()[S].style.left=k+50+"px";b.get()[S].style.top=L+"px"}else{b.get()[S].style.opacity=0}if(S===y&&a.fingers[S].tipPosition[2]<e+s){var O=document.elementFromPoint(k+window.pageXOffset,L+window.pageYOffset);b.get()[S].style.opacity=1;if(O!==null&&!u){O.dispatchEvent(m);(function(){u=true;setTimeout(function(){u=false},v)})()}}}else{if(b.get()[S]!==undefined){b.get()[S].style.left="-100px";b.get()[S].style.top="-100px"}}S+=1}var M=S;while(M<b.get().length){b.get()[M].style.top="-100px";b.get()[M].style.left="-100px";M+=1}}else if(a.hands.length<1){f=true;if(b.get.length>0){b.get()[0].style.top="-100px";b.get()[0].style.left="-100px"}}}}function y(e){if(e!==null&&e!==undefined&&typeof e==="number"&&e>-1){v=e}else{console.error("Invalid input")}}function E(){localStorage.clear();x.empty();e=t=n=r=i=undefined;o=isTopSet=isRightSet=isBottomSet=isLeftSet=false;p.style.display="block";p.style.left=window.innerWidth/2-p.offsetWidth/2}function S(){return{zDepth:e,top:t,right:n,bottom:r,left:i}}var e,t,n,r,i,s=20;var o=isTopSet=isRightSet=isBottomSet=isLeftSet=false;var u=false,a=2e3,f=true,l=2;var c=200,h=20;var p,d;var v=500;var m=new Event("click");var b=function(){function i(){return e}function s(){if(arguments.displayPointers&&typeof arguments.displayPointers==="boolean"){t=arguments.displayPointers}return t}function o(){var t=document.createElement("div");t.setAttribute("class","cursor");document.body.appendChild(t);e.push(t)}var e=[],t=true,n={x:undefined,y:undefined,z:undefined};var r=function(){function t(t){if(typeof e==="number"){e=t}else{console.error("Not a valid value")}}function n(){return e}var e=10;return{set:t,get:n}}();return{get:i,display:s,createPointer:o,threshold:r,lastCoords:n}}();var w=function(){function s(){}function f(){p=document.createElement("div");p.setAttribute("id","calEl");d=document.createElement("div");d.setAttribute("id","progress");p.appendChild(d);document.body.appendChild(p);p.style.top=window.innerHeight/2-p.offsetWidth/2+"px";p.style.left=window.innerWidth/2-p.offsetHeight/2+"px";p.style.display="none"}function l(e){console.log("Point set. Remove Finger.");d.style.height="0px";p.style.display="none";console.log(e);if(e.top!==undefined){console.log("Well, We got here");p.style.top=e.top+"px"}if(e.left!==undefined){p.style.left=e.left+"px"}if(e.display!==undefined){p.style.display=e.display}u=true;setTimeout(function(){u=false;p.style.display="block"},a)}function h(e){d.style.height=p.offsetHeight/100*e+"px"}function v(s){if(u){return}var a=s.fingers;if(s.fingers.length>1){return false}if(p===undefined){f();p.style.display="block"}if(a!==null&&a!==undefined&&a.length>0){var l=0;while(l<1){if(!o){x.addPoint({which:"zMeasure",value:a[l].tipPosition[2]});if(x.checkPointProgress({which:"zMeasure"})>c){o=true;e=x.getPoint({which:"zMeasure"});w.moveElement({top:0})}else{w.percent(x.checkPointProgress({which:"zMeasure"})/c*100)}}else if(!isTopSet){x.addPoint({which:"topMeasure",value:a[l].tipPosition[1]});if(x.checkPointProgress({which:"topMeasure"})>c){isTopSet=true;t=x.getPoint({which:"topMeasure"});w.moveElement({top:window.innerHeight/2-p.offsetWidth/2,left:window.innerWidth-p.offsetWidth/1})}else{w.percent(x.checkPointProgress({which:"topMeasure"})/c*100)}}else if(!isRightSet){x.addPoint({which:"rightMeasure",value:a[l].tipPosition[0]});if(x.checkPointProgress({which:"rightMeasure"})>c){isRightSet=true;n=x.getPoint({which:"rightMeasure"});w.moveElement({top:window.innerHeight-p.offsetHeight,left:window.innerWidth/2-p.offsetWidth/2})}else{w.percent(x.checkPointProgress({which:"rightMeasure"})/c*100)}}else if(!isBottomSet){x.addPoint({which:"bottomMeasure",value:a[l].tipPosition[1]});if(x.checkPointProgress({which:"bottomMeasure"})>c){isBottomSet=true;r=x.getPoint({which:"bottomMeasure"});w.moveElement({top:window.innerHeight/2-p.offsetWidth/2,left:0})}else{w.percent(x.checkPointProgress({which:"bottomMeasure"})/c*100)}}else if(!isLeftSet){x.addPoint({which:"leftMeasure",value:a[l].tipPosition[0]});if(x.checkPointProgress({which:"leftMeasure"})>c){isLeftSet=true;i=x.getPoint({which:"leftMeasure"});w.moveElement({top:window.innerHeight/2-p.offsetWidth/2,left:window.innerWidth/2-p.offsetWidth/2,display:"none"})}else{var h=x.checkPointProgress({which:"leftMeasure"})/c*100;w.percent(x.checkPointProgress({which:"leftMeasure"})/c*100)}}l+=1}}}return{calibrate:v,moveElement:l,percent:h,createElement:f}}();var x=function(){function t(t){if(t!==undefined&&t!==null){if(e[t.which]!==undefined&&t.value!==undefined&&typeof t.value==="number"){e[t.which].push(t.value)}}}function n(t){var n=0;for(var r=0+Math.floor(c/100*h);r<e[t.which].length;r+=1){n+=e[t.which][r]}return n/(e[t.which].length-Math.floor(c/100*h))}function r(t){return e[t.which].length}function i(){for(var t in e){e[t]=[]}}var e={zMeasure:[],topMeasure:[],rightMeasure:[],bottomMeasure:[],leftMeasure:[]};return{addPoint:t,getPoint:n,checkPointProgress:r,empty:i}}();return{checkCoords:g,calibration:w,measure:x,reset:E,currentCoords:S,setDelay:y,screenPointers:b}}()